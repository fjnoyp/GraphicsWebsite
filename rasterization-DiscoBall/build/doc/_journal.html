<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Rasterization-DiscoBall: Development Journal</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rasterization-DiscoBall
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Development Journal </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#tuesdayi">2014-12-10 Tuesday(2)</a><ul><li class="level2"><a href="#tuesday12">Additional Improvements</a></li>
<li class="level2"><a href="#tuesday11">More shaders</a></li>
</ul>
</li>
<li class="level1"><a href="#mondayi">2014-11-10 Monday(2)</a><ul><li class="level2"><a href="#monday11">AI tweak</a></li>
<li class="level2"><a href="#monday12">Camera and Tower</a></li>
<li class="level2"><a href="#monday13">Shader</a></li>
</ul>
</li>
<li class="level1"><a href="#sundayi">2014-11-9 Sunday(2)</a><ul><li class="level2"><a href="#sunday11">HP scaling</a></li>
<li class="level2"><a href="#sunday12">New FX</a></li>
<li class="level2"><a href="#sunday13">More AI</a></li>
</ul>
</li>
<li class="level1"><a href="#saturdayi">2014-11-8 Saturday2</a><ul><li class="level2"><a href="#saturday1">Basic Effects</a></li>
<li class="level2"><a href="#saturday2">Distant Entry</a></li>
</ul>
</li>
<li class="level1"><a href="#tuesday">2014-11-4 Tuesday</a><ul><li class="level2"><a href="#tuesday1">finishedTower</a></li>
</ul>
</li>
<li class="level1"><a href="#monday">2014-11-3, Monday</a><ul><li class="level2"><a href="#monday3">Disco Ball</a></li>
<li class="level2"><a href="#monday2">Crush</a></li>
<li class="level2"><a href="#monday1">Basic Creatures</a></li>
<li class="level2"><a href="#monday4">Barely Working Towers</a></li>
</ul>
</li>
<li class="level1"><a href="#sunday">2014-11-2, Sunday</a><ul><li class="level2"><a href="#sunday4">Code Reorganization</a></li>
<li class="level2"><a href="#sunday3">Asynchronous turns</a></li>
<li class="level2"><a href="#sunday2">Attack</a></li>
<li class="level2"><a href="#sunday1">Basic physics engine</a></li>
</ul>
</li>
<li class="level1"><a href="#saturday">2014-11-1, Saturday</a><ul><li class="level2"><a href="#saturday4">Object Oriented Programming</a></li>
<li class="level2"><a href="#saturday3">Communicating change</a></li>
</ul>
</li>
<li class="level1"><a href="#friday">2014-10-31, Friday</a><ul><li class="level2"><a href="#friday3">Tweaking MineCraft</a></li>
<li class="level2"><a href="#friday2">Polymorphism</a></li>
<li class="level2"><a href="#friday1">Pathfinding</a></li>
</ul>
</li>
<li class="level1"><a href="#thursday">2014-10-30, Thursday</a><ul><li class="level2"><a href="#thursday3">Map Represention</a></li>
<li class="level2"><a href="#thursday2">Adding Cubes</a></li>
<li class="level2"><a href="#thursday1">Init</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><em>Newest entries are at the top</em></p>
<h1><a class="anchor" id="tuesdayi"></a>
2014-12-10 Tuesday(2)</h1>
<h2><a class="anchor" id="tuesday12"></a>
Additional Improvements</h2>
<p>Tweaked the tower again. There was an error wtih tracking that cause the towers to prefer to shoot projectiles on some sides even though there were closer enemies. The towers now attack enemies that are closest to it. Also worked on adding a recoil like effect to the enemies when they are hit. They now jitter and move back and a projectile is spawned from them to simulate the original bullet bouncing off of the enemy. This involved changing how <a class="el" href="class_visual_control.html">VisualControl</a> processes <a class="el" href="class_change.html" title="Class that describes a change in the visibile entity. ">Change</a> information from <a class="el" href="_map_8cpp.html">Map.cpp</a>. Whenever an object is hit, it adds in a random displacement vector. In addition, tweaked the sounds to be more appropriate.</p>
<p>Kai worked on an absolutely amazing shader! I played around with the lambertian, transmisive, and emissive nature of the underlying 3d objects as the shader made everything look a lot darker. However, Kai's amazing work really brings our piece closer to the original art direction we were aiming for, ie. Tron inspired simple shapes with glowing outlines to emphasize the physical geometry. Below are some different color style changes I iterated over:</p>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='Shader0.jpg'><img src='Shader0.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> </b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="Shader0.jpg" alt="Shader0.jpg"/>
</div>
<p>  <script>document.write('</div>');</script>   <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='Shader1.jpg'><img src='Shader1.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> </b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="Shader1.jpg" alt="Shader1.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<h2><a class="anchor" id="tuesday11"></a>
More shaders</h2>
<p>Fixed reading and writing to samething but adding a second buffer. Finally found out a good shader while trying out the Sobel operator. It turns out that if I leave the last step unfinished, the intermediate result looks really good. Should be using that in the end. Also, interpolating between the results could create a nice effect of "going back to reality".</p>
<p>Fixed one mistake and shader looks better: should be "sqrt(xx+yy)" isntead of (x+y)/2 when combining the horizontal and vertical results. (Why you use average in the first place!!)</p>
<h1><a class="anchor" id="mondayi"></a>
2014-11-10 Monday(2)</h1>
<h2><a class="anchor" id="monday11"></a>
AI tweak</h2>
<p>Put more priority to path that lead to the discoball...For sure...Also, it seems that if there's no path, AI will just rotate in the same palace. Don't feel like actual implementing status check or whatsoever, used some dirty tricks so whenever that it seems there's no path, just brute force to Disco ball and destroy everything in between.</p>
<h2><a class="anchor" id="monday12"></a>
Camera and Tower</h2>
<p>Worked on camera movement and tower tracking. The towers are no longer able to shoot in all directions but their attack power is increased to reduce the amount of projectiles that fly accross the screen. This tweak was a bit tricky given how we still needed to compute several ray casts on the objects around, but only used the closest intersected object instead. In the end it raycats several times but only attacks the raycast entity that is actually closest to it. Also worked on changing the way the camera works so that DebugCamera is no longer the required option. Since most of the camera movements was rotating around our 15x15 underlying grid, I though that restricting camera movement to rotate around the central point and to zoom in and out would work the best given our gameplay. Lastly, optimized the game further by removing the 15x15 1x1x1 cubes that formed the underlying grid layer. It is now a single large cube instead of several smaller cubes.</p>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='DemoCamera.mp4'><div style='border: 1px solid #00F; width: 180px; height: 120px; background: #222; color: #AAA; text-align: center;'><span style='position: relative; top: 40px; font-size: 100px; '>&#9654;</span><br></br><span style='position: relative; top: 30px;'>Play Video</span></div></a></td></tr><tr><td align='center'><b> example of camera control features</b></td></table> </p><div style="display: none; visibility:hidden"> <div class="image">
<img src="DemoCamera.mp4" alt="DemoCamera.mp4"/>
</div>
 </div><p>I was also able to add in basic explosion effects for when the enemies are destroyed. The game spawns several cubes that move quickly away (and that are high in glowing effect) to simulate a pixel/Tron like explosion. The aim here was for non realistic looking explosions that looked cyber like. To this end the explosion isn't fast like a normal explosion, instead it slows down over time - check out the trailer for a more detailed glimpse at this. Implementation wise, to do this I created a separate <a class="el" href="_animation_8cpp.html">Animation.cpp</a> class that is spawned in <a class="el" href="_visual_control_8cpp.html">VisualControl.cpp</a>. <a class="el" href="class_animation.html">Animation</a> has a step method in which it controls the position of the VisualEntity object that is passed as a parameter to it. This way I was able to create instances of Animate which would then move their VisualEntity objects to simulate an explosion etc.</p>
<h2><a class="anchor" id="monday13"></a>
Shader</h2>
<p>It seems that the best way to add good visual effects is through post-processing shaders. Looked into several GLSL shaders and I should copy one of the toon shader....</p>
<p>Ooops how can I pass m_framebuffer to the shader... Asked a lot of people and found no result, just added whatever needed (a sampler, a mipmap, etc.) to make sure I could pass m_framebuffer to the shader. Tried several shader style and none of them really works. Maybe I should give up...</p>
<p>Also, shouldn't be reading and writing from the same buffer, it creates really weird lines that's obviously due to reading datas that are just written. Should try to fix that.</p>
<h1><a class="anchor" id="sundayi"></a>
2014-11-9 Sunday(2)</h1>
<h2><a class="anchor" id="sunday11"></a>
HP scaling</h2>
<p>Changed that so HP actually scales when game advances to make sure users don't get too much gold from spawn killing weak mobs. Done by adding an extra maxHP variable. The HP returned in change is still 0 to 100, scaled based on the maxHP. Now the game is really hard....</p>
<h2><a class="anchor" id="sunday12"></a>
New FX</h2>
<p>Worked a while today on choosing a proper color palette for our game. Worked through several different versions. In the end I began to converge on a transparent look for the enemies and a darker total look for the entire scene. I turned off most of the lights to achieve this effect and added glossy/transparent preprocessing effects to most of the game entities. Also downloaded several models online. Was hoping to find a critter like object but instead got a lot of drone like 3d models and one arachnid model. These models were usually way too big and our game's performance suffered significantly from their input. Therefore after several different iterations with several 3d models I ended up opting for the simple sphere enemy in order to optimize the game's performance. Also added in an explosion effect to the enemy's death. This involved adding in extra code to the <a class="el" href="_visual_control_8cpp.html">VisualControl.cpp</a> class that receives change updates from <a class="el" href="class_map.html" title="Abstract representation of all the current elements in an instance of a game A Map is a collection of...">Map</a>. Finally worked on tweaking sound effects as well to be more appropriate with our game's tron like art style.</p>
<p>Below, the original enemy models I tried to experiment with.  <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='OldCritter0.jpg'><img src='OldCritter0.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> old critter</b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="OldCritter0.jpg" alt="OldCritter0.jpg"/>
</div>
<p>  <script>document.write('</div>');</script>   <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='OldCritter1.jpg'><img src='OldCritter1.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> old critter</b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="OldCritter1.jpg" alt="OldCritter1.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<p>Also here is the basic art style. Tried to get a tron like cyber feel.  <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='ShaderOld.jpg'><img src='ShaderOld.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> old art style for our game</b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="ShaderOld.jpg" alt="ShaderOld.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<h2><a class="anchor" id="sunday13"></a>
More AI</h2>
<p>Thought about path finding, seems that the easiest way is just a limited-depth DFS....Turned out to be more difficult because it's hard to create a good distance estimator with a lot of random walls. Decide to increase the search depth which may make things slower but will certainly work....</p>
<h1><a class="anchor" id="saturdayi"></a>
2014-11-8 Saturday2</h1>
<h2><a class="anchor" id="saturday1"></a>
Basic Effects</h2>
<p>Worked on changing the overall look of the game from the simple lambertian colors of before. I was aiming for a Tron like feel which would involve darker grid like cubes, transparent objects, and bright light contrasts. To this end I modified the scene file and looked at the feature.test.scn.any to get some pointers on what properties of the game's look that I could change. I also looked online for models that could replace the simple block and spheres we were using for the enemy models.</p>
<h2><a class="anchor" id="saturday2"></a>
Distant Entry</h2>
<p>Creatures should now enter from away the actual playable map. This is achieved through setting the oldPos away from the map and the newPos at the edge the map when creating the creature. In addition to that, all the relevant methods now check if the <a class="el" href="class_map_element.html" title="Parent class for elements in the map. ">MapElement</a> is in map in order to prevent out of boundary errors.</p>
<h1><a class="anchor" id="tuesday"></a>
2014-11-4 Tuesday</h1>
<h2><a class="anchor" id="tuesday1"></a>
finishedTower</h2>
<p>There was a very dumb glitch that took several hours to debug, pretty much the AABoxes were being initialized incorrectly and the towers were subsequently unable to find their targets... Also worked on cleaning up some code and cleaning out some errors (like deleting ground cubes leading to errors). Finally I was able to make the shots from the towers visual, as in the towers now lob spheres at the enemy. This required some hacking of the original code to allow for a fast moving object.</p>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='Towers.jpg'><img src='Towers.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> towers!</b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="Towers.jpg" alt="Towers.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='Firing1.jpg'><img src='Firing1.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> laser beams!</b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="Firing1.jpg" alt="Firing1.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<p> <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href='DiscoBall.jpg'><img src='DiscoBall.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> save that discoBall!</b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="DiscoBall.jpg" alt="DiscoBall.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<h1><a class="anchor" id="monday"></a>
2014-11-3, Monday</h1>
<h2><a class="anchor" id="monday3"></a>
Disco Ball</h2>
<p>Let's name the thing we are defending disco ball. How nice is that? Meaningless name get meanings!!!</p>
<p>Ok, cleaned up something and added GUI. Also added simple economic system so cube costs money. Everything should be working pretty soon. I should work on report tomorrow. -Kai</p>
<h2><a class="anchor" id="monday2"></a>
Crush</h2>
<p>If cube falls it should crush minions. What a nice feature. CRUSHHHHHHHHHHHHHHHHHHHHHHH! </p>
<h2><a class="anchor" id="monday1"></a>
Basic Creatures</h2>
<p>Pathfinding is hard. Let's through that away. Implemented <a class="el" href="class_crawler.html">Crawler</a> that moves randomly, able to climb up a bit and falls if nothing is below. Pretty hilarious movement.... But... Then can attack cubes.</p>
<p>We don't have tower... So let's make cube do damage. And yes... <a class="el" href="class_cube.html">Cube</a> can kill <a class="el" href="class_crawler.html">Crawler</a> and <a class="el" href="class_crawler.html">Crawler</a> can kill <a class="el" href="class_cube.html">Cube</a>. Done. -Kai</p>
<h2><a class="anchor" id="monday4"></a>
Barely Working Towers</h2>
<p>Made the final finishing touches to moving existing code from <a class="el" href="class_visual_control.html">VisualControl</a> to the <a class="el" href="class_a_a_box_manager.html">AABoxManager</a> class. I then began to create a <a class="el" href="class_basic_tower.html">BasicTower</a> class that extended from <a class="el" href="class_cube.html">Cube</a>. This <a class="el" href="class_basic_tower.html">BasicTower</a> uses methods in the <a class="el" href="class_a_a_box_manager.html">AABoxManager</a> class to find which objects are close by and which objects it can actually hit. This system was bugged when I left but the basic framework was in place.</p>
<h1><a class="anchor" id="sunday"></a>
2014-11-2, Sunday</h1>
<h2><a class="anchor" id="sunday4"></a>
Code Reorganization</h2>
<p>Started the day by working on a basic ai system using the <a class="el" href="_map_8cpp.html">Map.cpp</a> framework that Kai provided. Creatures have move methods which can be modified to change their behavior. Our 3d grid architecture came to help us here. Instead of having to do real collision detection the ai only have to check the 3d grid of isBox to check if they can move to a new space or not. In the data a creature's position and any object's position in the game can only be a 3d grid position, however, we want to do several end tricks to make it less obvious that objects can only inhabit discrete positions in our 3d grid space.</p>
<p>I also worked on moving the code from <a class="el" href="class_visual_control.html">VisualControl</a> into a separate AABox manager class. The idea here was to have every moving gameobject and physical gameobject in our game have a AABox attached to them. This way, we can raytrace from one position and know which objects we have hit. With this ability we would be able to make towers that could tell if they had a clear line of fire to another creature in the game. This process took a while, I had already implemented tracking of AABoxes in the <a class="el" href="class_visual_control.html">VisualControl</a> class but I had not yet done so for all of the creature entities. Therefore I had to move code from <a class="el" href="class_visual_control.html">VisualControl</a> to <a class="el" href="class_a_a_box_manager.html">AABoxManager</a> while adding in extra functionality and code to support the tracking of AABoxes for the creatures.</p>
<h2><a class="anchor" id="sunday3"></a>
Asynchronous turns</h2>
<p>It seems that some moves take longer than others. Let's just get rid of keyframes in total. Instead of interpolating in <a class="el" href="class_app.html">App</a>, let's interpolate in <a class="el" href="class_map.html" title="Abstract representation of all the current elements in an instance of a game A Map is a collection of...">Map</a>. The idea is implementing a separate run() method, that calls move() only if turnsLeft = 0. If move is called, then the interpolated displacement per turn should be called. In this way could implement different move speed. Yay. Side effect: cube physics engine looks more real... -Kai</p>
<h2><a class="anchor" id="sunday2"></a>
Attack</h2>
<p>Attack can be achived by keeping track of HP. Discussed about how we can implement attack. It seems that the easiest way for the moment is just to implement splash damage for every grid. -Kai</p>
<p>Adding methods that helps attacking. I love OOP.</p>
<h2><a class="anchor" id="sunday1"></a>
Basic physics engine</h2>
<p>Now cubes should be falling properly if it looses support. Does that by calling move() for every <a class="el" href="class_map_element.html" title="Parent class for elements in the map. ">MapElement</a> when getChange is called. -Kai</p>
<h1><a class="anchor" id="saturday"></a>
2014-11-1, Saturday</h1>
<h2><a class="anchor" id="saturday4"></a>
Object Oriented Programming</h2>
<p>It seems it's pretty cumbersome to make getChange handle everything. While doing the if statements, I suddenly realized that I could use OOP techniques (yes how can I forget 136). By implementing methods such as move(), onDeath() and onSpawn() and throw the map elements a pointer to a map, I should be able to do everything without worrying about conditional checks... But now the problem is.... why it sounds so horribly like darwin?!!!! Are we implementing 3D DARWIN????? W!&amp;$(!**(!*&amp;$( -Kai</p>
<h2><a class="anchor" id="saturday3"></a>
Communicating change</h2>
<p>For the changes to be reflected visually, we need some way to communicate with <a class="el" href="class_app.html">App</a>. The proposed solution is to implement a getChange() method which compiles a list of changes every keyframe.. <a class="el" href="class_app.html">App</a> can then interpolate between those keyframes by diving change by updateRate. So map information will be updated everytime getChange() is called. Sounds pretty legit. -Kai</p>
<h2><a class="anchor" id="saturday2"></a>
Distant Entry</h2>
<p>So obvious we cannot place cubes everywhere. It's gonna be worse if we can delete something and just make cubes floating.... So we need a rule. The rule proposed: if there's no cube beneath a <a class="el" href="class_cube.html">Cube</a>, then we need to make sure it has two adjacent(horizontally) grounded cube. This simple rule works pretty well. We can enforce it to adding cubes easily by doing canAddCube... To make cubes fall, we need to actually implement the motion... -Kai</p>
<h2><a class="anchor" id="saturday1"></a>
Basic Effects</h2>
<p>Worked on adding a separate visual controller for managing the data. The new <a class="el" href="class_visual_control.html">VisualControl</a> class manages data from <a class="el" href="_map_8cpp.html">Map.cpp</a>. <a class="el" href="_map_8cpp.html">Map.cpp</a> communicates with <a class="el" href="class_visual_control.html">VisualControl</a> through the <a class="el" href="_app_8cpp.html">App.cpp</a> class. It is the job of <a class="el" href="class_app.html">App</a> to pass in Change.cpp files to the <a class="el" href="class_visual_control.html">VisualControl</a>. Change.cpp is generated by the <a class="el" href="_map_8cpp.html">Map.cpp</a> file and is used to update the <a class="el" href="class_visual_control.html">VisualControl</a> with what has been going on in <a class="el" href="class_map.html" title="Abstract representation of all the current elements in an instance of a game A Map is a collection of...">Map</a>. I also wasted a lot of time trying to get graphs to work! Unfortuately I had little success and lot of memory issues. Lesson learned, don't make circular references with shared pointers. We were subsequently unable to make ai that were able to use bfs to find the best way into our base.</p>
<h1><a class="anchor" id="friday"></a>
2014-10-31, Friday</h1>
<h2><a class="anchor" id="friday3"></a>
Tweaking MineCraft</h2>
<p>Finished the minecraft like features of adding in cubes to the screen. There were some memory bugs that still needed work and I was able to find and fix them all today.</p>
<h2><a class="anchor" id="friday2"></a>
Polymorphism</h2>
<p>As we need to have more than one type of objects on the map, some kind of polymorphisms is needed, and I forgot about everything in CS334 already.... Took a while to figure all this out. So, <a class="el" href="class_cube.html">Cube</a> and <a class="el" href="class_creature.html">Creature</a> inherits from <a class="el" href="class_map_element.html" title="Parent class for elements in the map. ">MapElement</a> and etc. If we have an array of pointer to <a class="el" href="class_map_element.html" title="Parent class for elements in the map. ">MapElement</a>, then every method that should be differentiated when calling should BE DECLARE VIRTUEL (oh god how can I not remember this...) -Kai</p>
<h2><a class="anchor" id="friday1"></a>
Pathfinding</h2>
<p>Debated about how we should implemented pathfinding. Tried to implement that graph that's updated in real time, but found that hard. In the end, one graph is probably not enough because different creature may have different behaviors. SO.... why not just do path finding on the grid? We have gridOccupancy for sure... -Kai</p>
<h1><a class="anchor" id="thursday"></a>
2014-10-30, Thursday</h1>
<h2><a class="anchor" id="thursday3"></a>
Map Represention</h2>
<p>Representation of the map should be separated from the graphics. There are many ways to represented a three dimensional structure. Thought about octtrees, but as the map is gonna be small, a 3D array should suffice. Integers only, therefore, let's think about visual effects(place within each grid) later.</p>
<p>We need to be able to find out the location of each object on the map. Thought for a long time if I should make the 3D array point to the actual objects, but realized that we probably don't have to do that. We need to iterate through every objects every turn, so let's just make an array of vectors and let the 3D array only represent the degree of crowdness in a certain position. If we really need to find one particular object, we could probably just do a for loop of comparison.</p>
<p>The map should be separate class that provide APIs to <a class="el" href="class_app.html">App</a> and other possible classes, to be figured out later. -Kai</p>
<h2><a class="anchor" id="thursday2"></a>
Adding Cubes</h2>
<p>Worked on adding a minecraft like element to the game. Had a lot of problems with getting the user to be able to place a cube in space relative to other cubes. Mulled over several different ideas here, in the end, we keep track of AABoxes that are associated with all of the cubes that have been placed on the screen so far. Whenever a user wants to place a <a class="el" href="class_cube.html">Cube</a>, we cast a ray from the mouse position towards the scene. The AABoxes are then checked to see which one has collided with our ray and then we find the closest one to our starting point. However, this gets us a cube when we want a position to place a new cube. To work around this we cast another ray but at only 6 cubes, one in every direction of our original cube. Then the cube that is intersected is our possible build position for our new cube. Now when the user clicks on the screen they can place cubes and when they shift left click on the screen they can delete cubes!</p>
<p>Random cube creation with the game so far:  <table style='display:inline-table;' cellspacing='2' cellpadding='0' border='0'><tr><td align='center'><a href=' Minecraft.jpg'><img src=' Minecraft.jpg' border='1' height='120'></img></a></td></tr><tr><td align='center'><b> "just like minecraft!"</b></td></table> <script>document.write('<div style=\'display: none; visibility: hidden;\'>');</script>  </p><div class="image">
<img src="Minecraft.jpg" alt="Minecraft.jpg"/>
</div>
<p>  <script>document.write('</div>');</script> </p>
<h2><a class="anchor" id="thursday1"></a>
Init</h2>
<p>The goal is to make a tower defense game with modifiable terrain. Combining the cubes to make player's own defense system fits the concept of "union".</p>
<p>Debated about whether to keep the game 2D or 3D. 3D seems to disorient the player and make interaction faster, but decided to stay in 3D and try to make interaction easy.</p>
<p>Possible that we could color the cubes to add lots of interesting effects: bridges, portals, barriers, etc. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 10 2014 18:13:15 for Rasterization-DiscoBall by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
